$-unit-font-df: 16px !default;
$-unit-grid-df: 0.25rem !default;

@function strip-unit($num) {
  @return $num / ($num * 0 + 1);
}

/// convert px, bs to rem
// prettier-ignore
@function rem($size) {
    @if $size == 0 { @return 0; }
    @if type-of($size) != number { @error "'#{$size}' is not a number"; }

    @if unitless($size) { @return $size * 1rem; }
    @if unit($size) == x { @return strip-unit($size) * $-unit-grid-df; }
    @if unit($size) == px { @return ($size / $-unit-font-df) * 1rem; }
    @if unit($size) == em { @return $size; }
    @if unit($size) == rem { @return $size; }

    @error "unsupported unit '#{$size}'";
}

// @debug rem(1);
// @debug rem(1x);
// @debug rem(16px);

// convert px to em
// prettier-ignore
@function em($size, $base: 16) {
    @if $size == 0 { @return 0; }
    @if unit($size) == unit($base) { @return $size / $base * 1em; }
    @error "type mismatch: '#{$size}' & '#{$base}'";
}
